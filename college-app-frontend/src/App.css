/* App.css */

/* --- RESET BÁSICO PARA BOX-SIZING (ADICIONAR NO TOPO) --- */
html {
  box-sizing: border-box;
}
*, *::before, *::after {
  box-sizing: inherit;
}
/* --- FIM DO RESET --- */

/* Sua importação @import url(...) da fonte Roboto deve estar aqui no topo */
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

/* Definição das variáveis CSS (Paleta de Cores e Medidas Atualizadas) */
:root {
  /* NOVAS CORES baseadas na imagem */
  --bg-primary: #f8f9fa; /* Fundo principal claro */
  --bg-secondary: #e9ecef; /* Fundo de elementos secundários (ex: li de matérias atribuídas) */
  --text-dark: #343a40; /* Texto principal escuro */
  --text-light: #f8f9fa; /* Texto para fundos escuros */
  --text-placeholder: #6c757d; /* Cor do placeholder */
  
  --input-bg-default: #fff; /* Fundo do input normal */
  --input-border-default: #ced4da; /* Borda do input normal */
  --input-bg-filled: #495057; /* Fundo do input preenchido (como na imagem) */
  --input-text-filled: #ffffff; /* Texto do input preenchido */

  --button-primary: #17a2b8; /* Azul vibrante (INFO) para botões principais/aplicar filtro */
  --button-primary-hover: #138496; /* Azul mais escuro no hover */
  --button-success: #28a745; /* Verde para sucesso (Criar Aluno) */
  --button-success-hover: #218838;
  --button-danger: #dc3545; /* Vermelho para exclusão */
  --button-danger-hover: #c82333;
  --button-warning: #ffc107; /* Amarelo/Laranja para cancelar */
  --button-warning-hover: #e0a800;
  --button-neutral: #6c757d; /* Novo: cinza para navegação/botões secundários não-primários */
  --button-neutral-hover: #5a6268;
  
  --header-color: #343a40; /* Títulos (quase preto) */
  --border-color-light: #dee2e6; /* Bordas mais claras */
  --list-border-color: #f8f9fa; /* Borda do item da lista pode ser mais sutil */

  --shadow-subtle: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075); /* Sombra mais sutil */
  --shadow-focus: 0 0 0 0.2rem rgba(23, 162, 184, 0.25); /* Sombra ao focar input */


  /* Medidas/Espaçamentos (agora em REM, base 16px) */
  --root-font-size: 16px; 

  --spacing-xxs: 0.1875rem; /* 3px */
  --spacing-xs: 0.3125rem;  /* 5px */
  --spacing-sm: 0.5rem;     /* 8px */
  --spacing-md: 0.625rem;   /* 10px */
  --spacing-lg: 0.9375rem;  /* 15px */
  --spacing-xl: 1.25rem;    /* 20px */
  --spacing-xxl: 1.25rem;  /* REDUZIDO de 1.875rem (30px) para 1.25rem (20px) */
  --spacing-xxxl: 2.5rem;   /* 40px */

  --border-width: 1px;
  --border-radius-sm: 0.25rem;
  --border-radius-md: 0.3125rem;
  --border-radius-lg: 0.5rem; /* 8px */

  --input-padding: 0.625rem; /* 10px */
  --input-padding-mobile: 0.5rem; /* 8px */

  --button-padding-y: 0.625rem; /* 10px */
  --button-padding-x: 1.25rem; /* 20px */
  --button-padding-y-mobile: 0.5rem; /* 8px */
  --button-padding-x-mobile: 0.9375rem; /* 15px */
  --button-padding-y-mobile-xs: 0.375rem; /* 6px */
  --button-padding-x-mobile-xs: 0.625rem; /* 10px */

  --button-margin: var(--spacing-xs);
  --button-font-size: 0.95em;
  --input-height: calc(var(--button-padding-y) * 2 + var(--button-font-size) * 1.2 + var(--border-width) * 2); 


  --list-button-width: 4.5rem;
  --list-button-padding-x: 0.625rem;
  --list-button-gap: var(--spacing-xxs);
  --icon-text-spacing: 0.3125rem;

  --list-item-padding: 0.9375rem;
  --list-item-margin-bottom: 0.625rem;
  --list-item-content-gap: var(--spacing-md);

  --form-field-margin-bottom: 0.9375rem;
  --form-label-margin-bottom: var(--spacing-xs);

  --header-margin-bottom: 1.25rem;
  --hr-height: 1px;

  --concise-year-width: 6.25rem;
  --concise-shift-width: 5rem;
  --concise-enrollment-min-width: 9.375rem;
  --filter-year-width: 6.25rem;
  --filter-shift-width: 5rem;
}


/* Estilos gerais para a aplicação */
#root {
  max-width: 80rem;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.App {
  font-family: 'Roboto', sans-serif;
  color: var(--text-dark);
  background-color: var(--bg-primary);
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-subtle);
  padding: var(--spacing-xl);
  margin-bottom: var(--spacing-xxl);
}

h1, h2, h3, h4, h5 {
  color: var(--header-color);
  margin-bottom: var(--header-margin-bottom);
}

hr {
  border: 0;
  height: var(--hr-height);
  background-color: var(--border-color-light);
  margin: var(--spacing-xxxl) 0;
}

/* --- ESTILOS DE NAVEGAÇÃO PRINCIPAL --- */
.main-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: var(--spacing-xxl);
}
.main-header h1 {
  margin-bottom: var(--spacing-lg);
  font-size: 2.5em;
  color: var(--header-color);
}
.navigation-buttons {
  display: flex;
  gap: var(--spacing-md);
  margin-top: var(--spacing-md);
}
.nav-button {
  background-color: var(--button-neutral);
  color: var(--text-light);
  padding: var(--button-padding-y) var(--button-padding-x);
  border-radius: var(--border-radius-md);
  cursor: pointer;
  transition: background-color 0.2s ease-in-out;
}
.nav-button:hover {
  background-color: var(--button-neutral-hover);
}
.nav-button.active {
  background-color: var(--button-primary);
  box-shadow: var(--shadow-subtle);
}
.nav-button.active:hover {
  background-color: var(--button-primary-hover);
}
.students-section, .teachers-section {
  width: 100%;
  padding-top: var(--spacing-lg);
  overflow-x: hidden; 
}


/* Estilos para Formulários */
form div {
  margin-bottom: var(--form-field-margin-bottom);
  text-align: left;
}

label {
  display: block;
  margin-bottom: var(--form-label-margin-bottom);
  font-weight: bold;
  color: var(--text-dark);
}

input[type="text"],
input[type="number"],
input[type="email"], /* Adicionado type="email" */
.subject-select,
.select-student-assignment,
.subject-select-assignment {
  width: 100%; /* Agora 100% direto, box-sizing cuidará do padding/border */
  padding: var(--input-padding);
  border: var(--border-width) solid var(--input-border-default);
  border-radius: var(--border-radius-sm);
  font-size: 1em;
  margin-bottom: 0;
  height: var(--input-height);
  /* box-sizing: border-box; -> Herdado do reset global */
  background-color: var(--input-bg-default);
  color: var(--text-dark);
}

/* Placeholder Styling */
input::placeholder {
  color: var(--text-placeholder);
  opacity: 1;
}
input:focus::placeholder {
  color: transparent;
}
/* Estilo para inputs quando têm valor (como na imagem) */
input[type="text"]:not(:placeholder-shown),
input[type="number"]:not(:placeholder-shown),
input[type="email"]:not(:placeholder-shown) { /* Adicionado type="email" */
    background-color: var(--input-bg-filled);
    color: var(--input-text-filled);
}


input:focus,
.subject-select:focus,
.select-student-assignment:focus,
.subject-select-assignment:focus {
  border-color: var(--button-primary);
  outline: none;
  box-shadow: var(--shadow-focus);
}

/* Estilos para Botões */
button {
  padding: var(--button-padding-y) var(--button-padding-x);
  margin: var(--button-margin);
  border: none;
  border-radius: var(--border-radius-md);
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
  font-size: var(--button-font-size);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0;
  /* box-sizing: border-box; -> Herdado do reset global */
  height: var(--input-height);
}

/* Estilo para ícones dentro de botões (para espaçamento) */
button .svg-inline--fa {
    margin-right: var(--icon-text-spacing);
}

/* Se um botão tem APENAS um ícone, remove a margem */
.list-buttons-container button .svg-inline--fa,
.form-button-container button .svg-inline--fa,
.subject-add-form .add-subject-button .svg-inline--fa,
.assigned-subjects-list .remove-subject-button .svg-inline--fa,
button.add-subject-to-student-button .svg-inline--fa {
    margin-right: 0;
}


/* Botões Padrão/Criar */
button[type="submit"],
button.create-button {
  background-color: var(--button-success);
  color: var(--text-light);
}

button[type="submit"]:hover,
button.create-button:hover {
  background-color: var(--button-success-hover);
  transform: translateY(-var(--border-width));
}

/* Botão Editar */
button.edit-button {
  background-color: var(--button-primary);
  color: var(--text-light);
}

button.edit-button:hover {
  background-color: var(--button-primary-hover);
  transform: translateY(-var(--border-width));
}

/* Botão Detalhes */
button.details-button {
  background-color: var(--button-neutral);
  color: var(--text-light);
}

button.details-button:hover {
  background-color: var(--button-neutral-hover);
  transform: translateY(-var(--border-width));
}

/* Botão Excluir */
button.delete-button {
  background-color: var(--button-danger);
  color: var(--text-light);
}

button.delete-button:hover {
  background-color: var(--button-danger-hover);
  transform: translateY(-var(--border-width));
}

/* Botão Cancelar */
button.cancel-button {
  background-color: var(--button-warning);
  color: var(--text-dark);
}
button.cancel-button:hover {
  background-color: var(--button-warning-hover);
  transform: translateY(-var(--border-width));
}

/* --- Estilo para botões de filtro e atribuição principal --- */
button.filter-button,
button.add-subject-to-student-button {
  background-color: var(--button-primary);
  color: var(--text-light);
  padding: var(--button-padding-y) var(--button-padding-x);
}
button.filter-button:hover,
button.add-subject-to-student-button:hover {
  background-color: var(--button-primary-hover);
  transform: translateY(-var(--border-width));
}

/* --- Botão Remover (Matéria de Aluno/Professor) --- */
button.remove-subject-button {
  background-color: var(--button-danger);
  color: var(--text-light);
  padding: var(--spacing-xxs) var(--spacing-sm);
  font-size: 0.8em;
  width: auto;
  min-width: unset;
  margin-left: auto;
  flex-shrink: 0;
  height: auto;
}
button.remove-subject-button:hover {
  background-color: var(--button-danger-hover);
  transform: translateY(-1px);
}


/* Lista de Alunos/Professores */
ul {
  list-style: none;
  padding: 0;
}

li {
  background-color: var(--bg-primary);
  border: var(--border-width) solid var(--border-color-light);
  border-radius: var(--border-radius-sm);
  margin-bottom: var(--list-item-margin-bottom);
  padding: var(--list-item-padding);
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  box-shadow: var(--shadow-subtle);
  gap: var(--list-item-content-gap);
}

li strong {
  color: var(--header-color);
}

/* --- Estilo para o container de botões da lista --- */
.list-buttons-container {
  display: flex;
  gap: var(--list-button-gap);
  flex-wrap: wrap;
  margin-left: auto;
}

/* Ajuste para botões de ação DENTRO do list-buttons-container (apenas ícone) */
.list-buttons-container button {
  padding: var(--button-padding-y) var(--list-button-padding-x);
  margin: 0;
  flex: 0 0 auto;
  width: var(--list-button-width);
}


p {
  margin-top: var(--spacing-md);
  font-style: italic;
  color: var(--text-placeholder);
}

/* Mensagens de Formulário */
p.success-message {
  color: var(--button-success);
  font-weight: bold;
}

p.error-message {
  color: var(--button-danger);
  font-weight: bold;
}

/* --- Estilos para campos em linha (formulários de criação/edição/filtro) --- */
.form-group-inline {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-xxl);
  margin-bottom: var(--form-field-margin-bottom);
  align-items: center;
}

/* Estilo para campos de filtro e edição/criação, assegurando flex:1 e min-width */
.form-group-inline > div {
  flex: 1;
  min-width: 7.5rem;
  margin-bottom: 0;
}

/* Estilo para o container de botões DENTRO do form-group-inline */
.form-button-container {
  display: flex;
  gap: var(--list-button-gap);
  flex-wrap: wrap;
  margin-left: auto;
  margin-bottom: 0;
}

/* Redefine margem dos botões dentro do form-button-container */
.form-button-container button {
    margin: 0;
    flex: 0 0 auto;
    width: auto;
    min-width: 3.5rem;
    padding: var(--button-padding-y) var(--list-button-padding-x);
}


/* Estilo específico para o campo de Matrícula (mantém largura flexível) */
.form-group-inline #enrollment,
.form-group-inline [id^="edit-enrollment-"] {
  flex: 1;
  min-width: var(--concise-enrollment-min-width);
}

/* Estilo específico para o campo de Ano Atual (criação/edição/filtro) */
.form-group-inline #new-current-year-group,
.form-group-inline [id^="edit-current-year-group-"],
.filter-form #filter-year-group {
  flex: 0 0 auto;
  width: var(--concise-year-width);
  min-width: unset;
}

/* Estilo específico para o campo de Turno (criação/edição/filtro) */
.form-group-inline #new-shift-group,
.form-group-inline [id^="edit-shift-group-"],
.filter-form #filter-shift-group {
  flex: 0 0 auto;
  width: var(--concise-shift-width);
  min-width: unset;
}


/* Outros inputs dentro de form-group-inline */
.form-group-inline input {
  width: 100%;
}

/* --- ESTILOS DAS SEÇÕES: Gerenciamento de Matérias e Professores --- */
.subject-assignment-section,
.teachers-section {
  background-color: var(--bg-primary);
  border: var(--border-width) solid var(--border-color-light);
  border-radius: var(--border-radius-sm);
  padding: var(--spacing-lg);
  margin-top: var(--spacing-xl);
  text-align: left;
  overflow-x: hidden; 
}

.subject-assignment-section h4,
.teachers-section h2,
.teachers-section h3,
.teachers-section h4 {
  color: var(--header-color);
  margin-top: var(--spacing-xl);
  margin-bottom: var(--spacing-lg);
}
.teachers-section h2 {
    margin-top: 0;
}
.subject-assignment-section p,
.teachers-section p {
  font-style: normal;
  margin-top: var(--spacing-md);
  margin-bottom: var(--spacing-md);
}

.select-container {
    flex: 1;
    min-width: 10rem;
    margin-bottom: 0;
}

/* Classes específicas para os dropdowns de aluno e matéria */
.select-student-assignment,
.subject-select-assignment,
.subject-select {
    background-color: var(--input-bg-default);
    color: var(--text-dark);
    border: var(--border-width) solid var(--input-border-default);
}


.subject-add-form {
  display: flex;
  gap: var(--spacing-md);
  align-items: center;
  margin-bottom: var(--spacing-xl);
  flex-wrap: wrap;
}

.add-subject-button {
  flex: 0 0 auto;
  width: auto;
  padding: var(--button-padding-y) var(--list-button-padding-x);
}

.assigned-subjects-list {
  list-style: none;
  padding: 0;
}

.assigned-subjects-list li {
  background-color: var(--bg-secondary);
  border: var(--border-width) solid var(--border-color-light);
  border-radius: var(--border-radius-sm);
  margin-bottom: var(--spacing-xs);
  padding: var(--spacing-sm);
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9em;
  flex-wrap: wrap;
  gap: var(--spacing-xs);
}


/* --- Media Queries para Responsividade --- */

/* Telas menores que 768px (tablets e smartphones) */
@media (max-width: 48rem) {
  .App {
    padding: var(--spacing-lg);
  }

  h1 {
    font-size: 2em;
  }
  h2, h3, h4, h5 {
    font-size: 1.5em;
    margin-bottom: var(--spacing-md);
  }
  
  hr {
    margin: var(--spacing-xxl) 0;
  }

  /* Ajustes para formulário in-line em telas menores */
  .form-group-inline {
    flex-direction: column;
    gap: 0;
    align-items: stretch;
  }

  .form-group-inline > div {
    flex: unset;
    min-width: unset;
    margin-bottom: var(--form-field-margin-bottom);
  }

  /* Em telas pequenas, todos os campos e o container de botões voltam a ocupar a largura total */
  .form-group-inline #new-current-year-group,
  .form-group-inline [id^="edit-current-year-group-"],
  .form-group-inline #new-shift-group,
  .form-group-inline [id^="edit-shift-group-"],
  .form-group-inline #enrollment,
  .form-group-inline [id^="edit-enrollment-"],
  .filter-form #filter-year-group,
  .filter-form #filter-shift-group,
  .form-button-container,
  .select-container {
    width: 100%;
    flex: unset;
    margin-left: 0;
    margin-top: var(--spacing-lg);
    text-align: center;
  }
  .select-container select {
      margin-top: 0;
      margin-bottom: 0;
  }


  /* Redefine a margem para espaçamento em mobile */
  .form-button-container {
      margin-top: var(--spacing-lg);
      margin-bottom: var(--spacing-md);
      justify-content: stretch;
  }

  .form-button-container button {
      width: 100%;
      margin: 0;
      padding: var(--button-padding-y-mobile) var(--button-padding-x-mobile);
  }


  input[type="text"],
  input[type="number"],
  input[type="email"], /* Adicionado type="email" */
  .subject-select,
  .select-student-assignment,
  .subject-select-assignment {
    width: calc(100% - (var(--input-padding-mobile) * 2) - (var(--border-width) * 2));
    padding: var(--input-padding-mobile);
    margin-bottom: 0;
    height: auto;
  }

  button {
    padding: var(--button-padding-y-mobile) var(--button-padding-x-mobile);
    font-size: 0.9em;
    margin: var(--spacing-xxs);
    flex-grow: 1;
    margin-bottom: 0;
  }

  /* Ajuste para botões de ação na lista em telas pequenas */
  .list-buttons-container {
    width: 100%;
    margin-left: 0;
    margin-top: var(--spacing-md);
    justify-content: stretch;
    gap: var(--spacing-xs);
  }

  .list-buttons-container button {
    padding: var(--button-padding-y-mobile) var(--button-padding-x-mobile);
    width: 100%;
    margin: 0;
  }

  li {
    flex-direction: column;
    align-items: flex-start;
    padding: var(--spacing-md);
  }

  li strong {
    margin-bottom: var(--spacing-xs);
    margin-right: 0;
  }

  li > *:not(strong):not(.list-buttons-container) {
    width: 100%;
    margin-left: 0;
    margin-top: var(--spacing-xs);
  }

  li form div {
    width: 100%;
  }

  /* Mobile: Gerenciamento de matérias (seções específicas) */
  .subject-assignment-section {
      padding: var(--spacing-md);
  }
  .subject-assignment-section h4 {
      font-size: 1.2em;
  }

  .subject-add-form {
    flex-direction: column;
    gap: var(--spacing-md);
  }
  .subject-add-form .select-container,
  .subject-add-form .add-subject-button {
    width: 100%;
    margin: 0;
  }
  .assigned-subjects-list li {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-xxs);
  }
  .assigned-subjects-list li button.remove-subject-button {
    width: 100%;
    margin-top: var(--spacing-xs);
    margin-left: 0;
  }
}

/* Telas muito pequenas (smartphones em modo retrato) */
@media (max-width: 30rem) {
  #root {
    padding: 1rem;
  }

  .App {
    padding: var(--spacing-md);
  }

  h1 {
    font-size: 1.5em;
  }

  h2 {
    font-size: 1.3em;
  }

  button {
    font-size: 0.85em;
    padding: var(--button-padding-y-mobile-xs) var(--button-padding-x-mobile-xs);
  }

  li {
    padding: var(--spacing-sm);
  }
}