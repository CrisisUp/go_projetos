/* Definição das variáveis CSS */
:root {
  /* Cores */
  --primary-color: #007bff; /* Azul para ações primárias/edição */
  --primary-color-hover: #0056b3; /* Azul mais escuro para hover */
  --secondary-color: #6c757d; /* Cinza para detalhes/informação */
  --secondary-color-hover: #5a6268; /* Cinza mais escuro para hover */
  --success-color: #28a745; /* Verde para sucesso/criação */
  --success-color-hover: #218838; /* Verde mais escuro para hover */
  --danger-color: #dc3545; /* Vermelho para perigo/exclusão */
  --danger-color-hover: #c82333; /* Vermelho mais escuro para hover */
  --warning-color: #ffc107; /* Amarelo/Laranja para cancelamento */
  --warning-color-hover: #e0a800; /* Amarelo mais escuro para hover */
  --info-color: #17a2b8; /* Cor para botões de informação/filtro */
  --info-color-hover: #138496; /* Hover para info color */
  --text-color-dark: #333; /* Texto escuro geral */
  --text-color-medium: #555; /* Texto médio */
  --text-color-light: #f9f9f9; /* Fundo claro */
  --text-color-white: #fff; /* Texto branco */
  --header-color: #2c3e50; /* Cor dos títulos */
  --border-color: #ccc; /* Cor da borda padrão */
  --list-border-color: #ddd; /* Cor da borda da lista */
  --shadow-color: rgba(0, 0, 0, 0.1); /* Sombra padrão */
  --shadow-color-light: rgba(0, 0, 0, 0.05); /* Sombra mais leve */
  --focus-shadow-color: rgba(0, 123, 255, 0.25); /* Sombra ao focar input */

  /* Medidas/Espaçamentos (agora em REM, base 16px) */
  --root-font-size: 16px; /* Base para 1rem, pode ser alterado se quiser uma escala base diferente */

  --spacing-xxs: 0.1875rem; /* 3px / 16 = 0.1875rem */
  --spacing-xs: 0.3125rem;  /* 5px / 16 = 0.3125rem */
  --spacing-sm: 0.5rem;     /* 8px / 16 = 0.5rem */
  --spacing-md: 0.625rem;   /* 10px / 16 = 0.625rem */
  --spacing-lg: 0.9375rem;  /* 15px / 16 = 0.9375rem */
  --spacing-xl: 1.25rem;    /* 20px / 16 = 1.25rem */
  --spacing-xxl: 1.875rem;  /* 30px / 16 = 1.875rem */
  --spacing-xxxl: 2.5rem;   /* 40px / 16 = 2.5rem */

  --border-width: 1px; /* Bordas geralmente mantêm PX */
  --border-radius-sm: 0.25rem; /* 4px / 16 = 0.25rem */
  --border-radius-md: 0.3125rem; /* 5px / 16 = 0.3125rem */
  --border-radius-lg: 0.5rem; /* 8px / 16 = 0.5rem */

  --input-padding: 0.625rem; /* 10px */
  --input-padding-mobile: 0.5rem; /* 8px */

  --button-padding-y: 0.625rem; /* 10px */
  --button-padding-x: 1.25rem; /* 20px */
  --button-padding-y-mobile: 0.5rem; /* 8px */
  --button-padding-x-mobile: 0.9375rem; /* 15px */
  --button-padding-y-mobile-xs: 0.375rem; /* 6px */
  --button-padding-x-mobile-xs: 0.625rem; /* 10px */

  --button-margin: var(--spacing-xs); /* 5px */
  --button-font-size: 0.95em; /* 'em' é bom para fontes relacionadas ao pai */

  /* Larguras específicas para botões de ação na lista */
  --list-button-width: 4.5rem; /* 72px */
  --list-button-padding-x: 0.625rem; /* 10px */
  --list-button-gap: var(--spacing-xxs); /* Reduzido de spacing-xs para spacing-xxs (3px) */

  --list-item-padding: 0.9375rem; /* 15px */
  --list-item-margin-bottom: 0.625rem; /* 10px */
  --list-item-content-gap: var(--spacing-md); /* Novo gap para separar nome do container de botões */

  --form-field-margin-bottom: 0.9375rem; /* 15px */
  --form-label-margin-bottom: var(--spacing-xs); /* 5px */
  /* --form-element-align-offset: 0.0625rem; REMOVIDO: será ajustado de outra forma */


  --header-margin-bottom: 1.25rem; /* 20px */
  --hr-height: 1px; /* Mantém em PX */

  /* Larguras específicas para campos concisos */
  --concise-year-width: 6.25rem; /* 100px */
  --concise-shift-width: 5rem; /* 80px */
  --concise-enrollment-min-width: 9.375rem; /* 150px */
  --filter-year-width: 6.25rem; /* Largura para campo de ano no filtro */
  --filter-shift-width: 5rem; /* Largura para campo de turno no filtro */
}


/* Estilos gerais para a aplicação */
#root {
  max-width: 80rem; /* 1280px / 16 = 80rem */
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.App {
  font-family: 'Roboto', sans-serif;
  color: var(--text-color-dark);
  background-color: var(--text-color-light);
  border-radius: var(--border-radius-lg);
  box-shadow: 0 4px 8px var(--shadow-color);
  padding: var(--spacing-xl);
  margin-bottom: var(--spacing-xxl);
}

h1, h2 {
  color: var(--header-color);
  margin-bottom: var(--header-margin-bottom);
}

hr {
  border: 0;
  height: var(--hr-height);
  background-color: var(--border-color);
  margin: var(--spacing-xxxl) 0;
}

/* Estilos para Formulários */
form div {
  margin-bottom: var(--form-field-margin-bottom); /* Mantém essa margem entre divs */
  text-align: left;
}

label {
  display: block;
  margin-bottom: var(--form-label-margin-bottom);
  font-weight: bold;
  color: var(--text-color-medium);
}

input[type="text"],
input[type="number"] {
  width: calc(100% - (var(--input-padding) * 2) - (var(--border-width) * 2));
  padding: var(--input-padding);
  border: var(--border-width) solid var(--border-color);
  border-radius: var(--border-radius-sm);
  font-size: 1em;
  /* IMPORTANTE: Remover margin-bottom dos inputs diretamente para evitar desalinhamento */
  margin-bottom: 0; /* Assegura que o input não tenha margem inferior */
}

input:focus {
  border-color: var(--primary-color);
  outline: none;
  box-shadow: 0 0 0 2px var(--focus-shadow-color);
}

/* Estilos para Botões */
button {
  padding: var(--button-padding-y) var(--button-padding-x);
  margin: var(--button-margin);
  border: none;
  border-radius: var(--border-radius-md);
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
  font-size: var(--button-font-size);
  display: flex;
  align-items: center;
  justify-content: center;
  /* IMPORTANTE: Remover margin-bottom dos botões diretamente */
  margin-bottom: 0; /* Assegura que o botão não tenha margem inferior */
}

/* Estilo para ícones dentro de botões (para espaçamento) */
button .svg-inline--fa {
    margin-right: var(--icon-text-spacing);
}

/* Se um botão tem APENAS um ícone, remove a margem (para botões de lista e agora Salvar/Cancelar edição) */
.list-buttons-container button .svg-inline--fa,
.form-button-container button .svg-inline--fa {
    margin-right: 0;
}


/* Botões Padrão/Criar */
button[type="submit"],
button.create-button {
  background-color: var(--success-color);
  color: var(--text-color-white);
}

button[type="submit"]:hover,
button.create-button:hover {
  background-color: var(--success-color-hover);
  transform: translateY(-var(--border-width));
}

/* Botão Editar */
button.edit-button {
  background-color: var(--primary-color);
  color: var(--text-color-white);
}

button.edit-button:hover {
  background-color: var(--primary-color-hover);
  transform: translateY(-var(--border-width));
}

/* Botão Detalhes */
button.details-button {
  background-color: var(--secondary-color);
  color: var(--text-color-white);
}

button.details-button:hover {
  background-color: var(--secondary-color-hover);
  transform: translateY(-var(--border-width));
}

/* Botão Excluir */
button.delete-button {
  background-color: var(--danger-color);
  color: var(--text-color-white);
}

button.delete-button:hover {
  background-color: var(--danger-color-hover);
  transform: translateY(-var(--border-width));
}

/* Botão Cancelar */
button.cancel-button {
  background-color: var(--warning-color);
  color: var(--text-color-dark);
}
button.cancel-button:hover {
  background-color: var(--warning-color-hover);
  transform: translateY(-var(--border-width));
}

/* --- Novo estilo para o botão de filtro --- */
button.filter-button {
  background-color: var(--info-color);
  color: var(--text-color-white);
}
button.filter-button:hover {
  background-color: var(--info-color-hover);
  transform: translateY(-var(--border-width));
}


/* Lista de Alunos */
ul {
  list-style: none;
  padding: 0;
}

li {
  background-color: var(--text-color-white);
  border: var(--border-width) solid var(--list-border-color);
  border-radius: var(--border-radius-sm);
  margin-bottom: var(--list-item-margin-bottom);
  padding: var(--list-item-padding);
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 4px var(--shadow-color-light);
  gap: var(--list-item-content-gap);
}

li strong {
  color: var(--header-color);
}

/* --- Estilo para o container de botões da lista --- */
.list-buttons-container {
  display: flex;
  gap: var(--list-button-gap);
  flex-wrap: wrap;
  margin-left: auto;
}

/* Ajuste para botões de ação DENTRO do list-buttons-container (apenas ícone) */
.list-buttons-container button {
  padding: var(--button-padding-y) var(--list-button-padding-x);
  margin: 0; /* Garante que margem interna seja 0 */
  flex: 0 0 auto;
  width: var(--list-button-width);
}


p {
  margin-top: var(--spacing-md);
  font-style: italic;
  color: var(--secondary-color);
}

/* Mensagens de Formulário */
p.success-message {
  color: var(--success-color);
  font-weight: bold;
}

p.error-message {
  color: var(--danger-color);
  font-weight: bold;
}

/* --- Estilos para campos em linha (formulários de criação/edição/filtro) --- */
.form-group-inline {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-xxl); /* Gap entre os inputs do formulário */
  margin-bottom: var(--form-field-margin-bottom);
  align-items: center; /* MUDANÇA CRÍTICA AQUI: Centraliza verticalmente todos os itens */
}

/* Estilo para campos de filtro e edição/criação, assegurando flex:1 e min-width */
.form-group-inline > div {
  flex: 1;
  min-width: 7.5rem; /* 120px */
  /* IMPORTANTE: Remover margin-bottom dos divs internos que contêm inputs/labels */
  margin-bottom: 0; /* Assegura que o div não tenha margem inferior */
}

/* Estilo para o container de botões DENTRO do form-group-inline */
.form-button-container {
  display: flex;
  gap: var(--list-button-gap); /* Gap entre Salvar e Cancelar */
  flex-wrap: wrap;
  margin-left: auto;
  /* align-self: flex-end; REMOVIDO: align-items: center do pai já cuida */
  /* margin-bottom: var(--form-element-align-offset); REMOVIDO: será 0 */
  margin-bottom: 0; /* Garante que não há offset vertical */
}

/* Redefine margem dos botões dentro do form-button-container */
.form-button-container button {
    margin: 0; /* Remove margem padrão, o gap agora controla */
    flex: 0 0 auto;
    width: auto;
    min-width: 3.5rem;
    padding: var(--button-padding-y) var(--list-button-padding-x);
}


/* Estilo específico para o campo de Matrícula (mantém largura flexível) */
.form-group-inline #enrollment,
.form-group-inline [id^="edit-enrollment-"] {
  flex: 1;
  min-width: var(--concise-enrollment-min-width);
}

/* Estilo específico para o campo de Ano Atual (criação/edição/filtro) */
.form-group-inline #new-current-year-group,
.form-group-inline [id^="edit-current-year-group-"],
.filter-form #filter-year-group {
  flex: 0 0 auto;
  width: var(--concise-year-width);
  min-width: unset;
}

/* Estilo específico para o campo de Turno (criação/edição/filtro) */
.form-group-inline #new-shift-group,
.form-group-inline [id^="edit-shift-group-"],
.filter-form #filter-shift-group {
  flex: 0 0 auto;
  width: var(--concise-shift-width);
  min-width: unset;
}


/* Outros inputs dentro de form-group-inline */
.form-group-inline input {
  width: 100%;
}


/* --- Media Queries para Responsividade --- */

/* Telas menores que 768px (tablets e smartphones) */
@media (max-width: 48rem) {
  .App {
    padding: var(--spacing-lg);
  }

  h1, h2 {
    font-size: 1.8em;
    margin-bottom: var(--spacing-lg);
  }

  /* Ajustes para formulário in-line em telas menores */
  .form-group-inline {
    flex-direction: column;
    gap: 0;
    align-items: stretch; /* Estica para preencher a largura */
  }

  .form-group-inline > div {
    flex: unset;
    min-width: unset;
    /* Restaura a margem inferior para espaçamento vertical em colunas */
    margin-bottom: var(--form-field-margin-bottom);
  }

  /* Em telas pequenas, todos os campos e o container de botões voltam a ocupar a largura total */
  .form-group-inline #new-current-year-group,
  .form-group-inline [id^="edit-current-year-group-"],
  .form-group-inline #new-shift-group,
  .form-group-inline [id^="edit-shift-group-"],
  .form-group-inline #enrollment,
  .form-group-inline [id^="edit-enrollment-"],
  .filter-form #filter-year-group,
  .filter-form #filter-shift-group,
  .form-button-container {
    width: 100%;
    flex: unset;
    margin-left: 0;
    text-align: center;
  }

  /* Redefine a margem para espaçamento em mobile */
  .form-button-container {
      margin-top: var(--spacing-lg);
      margin-bottom: var(--spacing-md);
      justify-content: stretch; /* Estica os botões se eles ocuparem 100% */
  }

  .form-button-container button {
      width: 100%;
      margin: 0;
      padding: var(--button-padding-y-mobile) var(--button-padding-x-mobile);
  }


  input[type="text"],
  input[type="number"] {
    width: calc(100% - (var(--input-padding-mobile) * 2) - (var(--border-width) * 2));
    padding: var(--input-padding-mobile);
    /* Remove margin-bottom aqui também, pois o div pai já terá a margem */
    margin-bottom: 0;
  }

  button {
    padding: var(--button-padding-y-mobile) var(--button-padding-x-mobile);
    font-size: 0.9em;
    margin: var(--spacing-xxs);
    flex-grow: 1;
    /* Remove margin-bottom aqui também */
    margin-bottom: 0;
  }

  /* Ajuste para botões de ação na lista em telas pequenas */
  .list-buttons-container {
    width: 100%;
    margin-left: 0;
    margin-top: var(--spacing-md);
    justify-content: stretch;
    gap: var(--spacing-xs);
  }

  .list-buttons-container button {
    padding: var(--button-padding-y-mobile) var(--button-padding-x-mobile);
    width: 100%;
    margin: 0;
  }

  li {
    flex-direction: column;
    align-items: flex-start;
    padding: var(--spacing-md);
  }

  li strong {
    margin-bottom: var(--spacing-xs);
    margin-right: 0;
  }

  li > *:not(strong):not(.list-buttons-container) {
    width: 100%;
    margin-left: 0;
    margin-top: var(--spacing-xs);
  }

  li form div {
    width: 100%;
  }
}

/* Telas muito pequenas (smartphones em modo retrato) */
@media (max-width: 30rem) {
  #root {
    padding: 1rem;
  }

  .App {
    padding: var(--spacing-md);
  }

  h1 {
    font-size: 1.5em;
  }

  h2 {
    font-size: 1.3em;
  }

  button {
    font-size: 0.85em;
    padding: var(--button-padding-y-mobile-xs) var(--button-padding-x-mobile-xs);
  }

  li {
    padding: var(--spacing-sm);
  }
}